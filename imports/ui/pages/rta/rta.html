<template name="rta">
  <div style="width:95%">
    <div class="ui two column very relaxed stackable grid">
      <div class="column">
        <div class="row">
          <h3 class="ui dividing header">
            Time:
          </h3>
          {{> stopwatch}}
        </div>
        <!-- image of track and KPI -->
        <div class="row">
          <h3 class="ui dividing header">
            Best Lap Time:
          </h3>
          <div class="ui two column grid">


            <div class="column">
              <h3 class="ui header">
                  {{#with teamName 'car01' }} {{name}} {{/with}}
              </h3>

              <table class="ui celled padded table">
                <thead>
                  <tr>
                    <th class="single line">Lap</th>
                    <th>Time</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <h3>
                        {{#with fastestLapCar 'car01' }} {{lapNr}} {{/with}}
                      </h3>
                    </td>
                    <td>
                      <h3>
                        {{#with fastestLapCar 'car01' }} {{lapTime}} {{/with}}
                      </h3>
                    </td>
                  </tr>
                </tbody>
              </table>



            </div>
            <div class="column">
              <h3 class="ui header">
                  {{#with teamName 'car02' }} {{name}} {{/with}}
              </h3>

              <table class="ui celled padded table">
                <thead>
                  <tr>
                    <th class="single line">Lap</th>
                    <th>Time</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <h3>
                        {{#with fastestLapCar 'car02' }} {{lapNr}} {{/with}}
                      </h3>
                    </td>
                    <td>
                      <h3>
                        {{#with fastestLapCar 'car02' }} {{lapTime}} {{/with}}
                      </h3>
                    </td>
                  </tr>
                </tbody>
              </table>

            </div>

          </div>


        </div>
        <div class="row">
          <!-- Total Race Time -->
          <h3 class="ui dividing header">
            <br><br><br>
            Race Finish Time:
          </h3>
          <table class="ui celled padded table">
            <thead>
              <tr>
                <th class="single line">Team</th>
                <th>Time</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <h3>
                    <!-- {{#with fastestLapCar 'car02' }} {{lapNr}} {{/with}} -->
                    {{#with raceFinishTime 'car01' }} {{playerName}} {{/with}}
                  </h3>
                </td>
                <td>
                  <h3>
                    <!-- {{#with fastestLapCar 'car02' }} {{lapTime}} {{/with}} -->
                    {{#with raceFinishTime 'car01' }} {{duration}} {{/with}}
                  </h3>
                </td>
              </tr>
              <tr>
                  <td>
                    <h3>
                      <!-- {{#with fastestLapCar 'car02' }} {{lapNr}} {{/with}} -->
                      {{#with raceFinishTime 'car02' }} {{playerName}} {{/with}}
                    </h3>
                  </td>
                  <td>
                    <h3>
                      <!-- {{#with fastestLapCar 'car02' }} {{lapTime}} {{/with}} -->
                      {{#with raceFinishTime 'car02' }} {{duration}} {{/with}}
                    </h3>
                  </td>
                </tr>
            </tbody>
          </table>

        </div>


      </div>




      <!-- SECOND COLUMN RACING TABLES -->
      <div class="column">
        <h3 class="ui dividing header">
          Laptimes:
        </h3>

        <div class="ui two column grid">
          <!-- {{# if teamTable teamId='car02'}} -->

          <div class="column">
              {{#with teamName 'car01' }} {{name}} {{/with}} {{> teamTable teamId='car01'}}
          </div>
          <div class="column">
              {{#with teamName 'car02' }} {{name}} {{/with}} {{> teamTable teamId='car02'}}
          </div>
          <!-- {{else}} -->
          <!-- <h2>
    Waiting for race to begin...    
</h2> -->
          <!-- {{/if}} -->
        </div>
      </div>
    </div>
  </div>
</template>

<template name="stopwatch">
  <!-- <div class="ui two column grid">
<div class="column"> -->
  <!-- {{#if running}}
  <div class="clockContainer">
    <div class="clockTop"></div>
      <div class='clockOut'>
        <div class="clockNeedle"></div>
      </div>
  </div>
{{/if}} -->
  <!-- </div> -->
  <!-- <div class="column"> -->
  <h3 style="font-size:3em">
    {{duration}}</h3>
  <!-- </div> -->

  <!-- </div> -->
</template>

<template name="wheater">
  <a href="https://www.accuweather.com/en/nl/utrecht/250560/weather-forecast/250560" class="aw-widget-legal">      
      </a>
  <div id="awcc1505814100020" class="aw-widget-current" data-locationkey="250560" data-unit="c" data-language="en-us" data-useip="false"
    data-uid="awcc1505814100020"></div>
  <script type="text/javascript" src="https://oap.accuweather.com/launch.js"></script>
</template>

<template name="teamTable">
  <h3 class="ui header">
    {{teamId}}
  </h3>

  <table class="ui celled padded table">
    <thead>
      <tr>
        <th class="single line">Lap</th>
        <th>Time</th>
      </tr>
    </thead>
    <tbody>
      {{#each lap in RaceDBTeam teamId}}
      <tr>
        <td>
          <!-- {{log lap}}  -->
          <h3>
            {{lap.lapNr}}
          </h3>
        </td>
        <td>
          <h2>
            {{lap.lapTime}}
          </h2>
        </td>
      </tr>
      {{/each}}
    </tbody>
  </table>
</template>